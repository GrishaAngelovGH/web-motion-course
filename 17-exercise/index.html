<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Exercise #17 || Mouse follow effect</title>

		<!-- Reset -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/modern-normalize@2.0.0/modern-normalize.min.css">

		<!-- Google Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;400;700&display=swap"
			rel="stylesheet">

		<link rel="stylesheet" href="./style.css">
	</head>

	<body>
		<section id="hero">
			<header>
				<div class="header-side-content">
					<a href="#"><img src="../resources/images/logo-cc.svg" alt="Logo"></a>
				</div>

				<nav>
					<ul>
						<li><a href="#">Work</a></li>
						<li><a href="#">About</a></li>
						<li><a href="#">Contact</a></li>
					</ul>
				</nav>

				<div class="header-side-content">
					<a href="" class="button">
						Start a Project
						<svg width="12" height="12" viewBox="0 0 12 12">
							<path fill-rule="evenodd" clip-rule="evenodd"
								d="M7.28033 0.96967C6.98744 0.676777 6.51256 0.676777 6.21967 0.96967C5.92678 1.26256 5.92678 1.73744 6.21967 2.03033L9.43934 5.25H1.5C1.08579 5.25 0.75 5.58579 0.75 6C0.75 6.41421 1.08579 6.75 1.5 6.75H9.43934L6.21967 9.96967C5.92678 10.2626 5.92678 10.7374 6.21967 11.0303C6.51256 11.3232 6.98744 11.3232 7.28033 11.0303L11.7803 6.53033C12.0732 6.23744 12.0732 5.76256 11.7803 5.46967L7.28033 0.96967Z" />
						</svg>
					</a>
				</div>
			</header>

			<h1>Shaping Visions into Reality with <span>Boldness</span></h1>

			<button class="magneto">
				<span class="text">Our Work</span>
			</button>
		</section>

		<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>

		<script>
			const magneto = document.querySelector('.magneto')
			const magnetoText = document.querySelector('.magneto .text')

			// Function to activate the "magneto" effect on mouse movement
			const activateMagneto = e => {
				// Get the button's position and dimensions relative to the viewport
				const boundBox = magneto.getBoundingClientRect()

				// Define the strength of the magnetic effect for the button and its text
				const magnetoStrength = 40 // Strength for the button
				const magnetoTextStrength = 80 // Strength for the text

				// Calculate the new X and Y positions for the effect
				// These are based on the mouse position relative to the button's bounding box
				const newX = ((e.clientX - boundBox.left) / magneto.offsetWidth) - 0.5 // Normalize X
				const newY = ((e.clientY - boundBox.top) / magneto.offsetWidth) - 0.5 // Normalize Y

				// Animate the button's position using the GSAP library
				gsap.to(magneto, {
					duration: 1, // Animation duration in seconds
					x: newX * magnetoStrength, // Apply X offset
					y: newY * magnetoStrength, // Apply Y offset
					ease: Power4.easeOut // Easing function for smooth animation
				})

				// Animate the text inside the button with a stronger effect
				gsap.to(magnetoText, {
					duration: 1, // Animation duration in seconds
					x: newX * magnetoTextStrength, // Apply X offset
					y: newY * magnetoTextStrength, // Apply Y offset
					ease: Power4.easeOut // Easing function for smooth animation
				})
			}

			// Function to reset the button and text positions when the mouse leaves the button
			const resetMagneto = e => {
				// Animate the button back to its original position
				gsap.to(magneto, {
					duration: 1, // Animation duration in seconds
					x: 0, // Reset X offset
					y: 0, // Reset Y offset
					ease: Elastic.easeOut // Easing function for a "bouncy" reset
				})

				// Animate the text back to its original position
				gsap.to(magnetoText, {
					duration: 1, // Animation duration in seconds
					x: 0, // Reset X offset
					y: 0, // Reset Y offset
					ease: Elastic.easeOut // Easing function for a "bouncy" reset
				})
			}

			magneto.addEventListener('mousemove', activateMagneto)
			magneto.addEventListener('mouseleave', resetMagneto)
		</script>

	</body>

</html>